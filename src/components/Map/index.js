import * as React from 'react';
import MapZone from './../MapZone';

// it could be moved to seperated file e.g. in the "common" directory and names config file ( config.js )
const mapWrapperClassName = 'map__wrapper';  // I'm proposing english class name instead of volby-ps2017-vysledky

export class Map extends React.Component {
    constructor(props) {
        super(props);
        this.coordinates = props.mapsCoordinates;
        // map-data

        // binding methods
        this.getCoordinates = this.getCoordinates.bind(this);
        this.getResults = this.getResults.bind(this);
        this.mapScoreToMapZones = this.mapScoreToMapZones.bind(this);

        this.state = {
            scores: this.props.defaultData,
            updateTime: this.props.updateTime,
            shouldUpdate: this.props.shouldUpdate
        };
    }

    getCoordinates(areaId) {
        console.log('coor', this.coordinates.data);
        const map = this.coordinates.data.filter(area => area.id === areaId);
        return map[0].coordinate;
    }

    getResults(resultId) {
        console.log('aaa', this.state);
        const result = this.state.scores.filter(item => item.id === resultId);
        return result[0];
    }

    mapScoreToMapZones(score) {
        return (
            <MapZone key={score.id}
                d={score.d}
                color={score.color}
             //   handleOnHover={() => this.onHover(score.id)}
              //  handleOnOut={() => this.onOut()}
                handleOnClick={() => this.onClick(score.id)}
              //  handleOnMove={(event) => this.onMove(event || window.event)}
            />
        );
    }

  /*  onHover(id) {
        const coordinateId = this.getResults(id);
        let info = `<h2>${coordinateId.nazevOblasti} kraj</h2>`;
        if (coordinateId.procent > 0) {
            info += `<b>${coordinateId.strana8}</b> / ${coordinateId.hlasu} hlas≈Ø</div>`;
        }

        if (this.info !== undefined) {
            this.info.style.display = 'inline-block';
            this.info.innerHTML = info;
        }
    }*/



    render() {
        console.log('data', this.props.mapData.data);
        return (
           <div className={mapWrapperClassName}>
                <header className="map__header">
                    <h1 className="map__title">Our map</h1>
                </header>
                <svg 
                    height="350px" 
                    id="Vrstva_1" 
                    width="600px" 
                    version="1.1" 
                    viewBox="0 0 600 350" 
                    x="0px" 
                    y="0px"
                    xmlSpace="preserve">
                    {this.props.mapData.data.map( (item) => {
                        item.d = 'M445.87,269.979c-0.952-1.205-1.903-2.409-2.854-3.614c-0.078-0.098,3.116-3.281,3.41-3.59c0.989-1.041,2.371-1.731,3.561-2.525c0.494-0.329,0.4-1.072,0.484-1.635c0.118-0.784,0.237-1.568,0.355-2.353c-1.716-0.192-3.43-0.383-5.145-0.573c0.237-0.836,0.478-1.672,0.714-2.508c0.131-0.453,0.571-1.242,0.32-1.68c-0.515-0.9-1.028-1.799-1.542-2.699c-0.243-0.429-0.782-0.916-0.466-1.349c0.629-0.858,1.257-1.715,1.887-2.57c0.3-0.403,0.804-0.732,0.533-1.192c-0.92-1.576-1.84-3.155-2.757-4.731c-0.113-0.19-0.023-0.616-0.023-0.825c0-0.553,0-1.103,0-1.654c0-0.757-0.788-1.209-1.308-1.727c-0.484-0.483-0.812-1.095-1.509-1.095c-1.117,0-2.24,0-3.36,0c-0.438,0-0.871,0-1.309,0c-0.207,0-0.156-0.112-0.193-0.316c-0.205-1.087-0.406-2.174-0.609-3.259c-0.124-0.656-0.095-1.292-0.095-1.96c0-0.315,0.215-2.218-0.041-2.379c-1.51-0.943-3.02-1.888-4.527-2.831c-0.087-0.053-0.004-0.878-0.004-0.982c0-0.579,0-1.157,0-1.735c0-0.175,0.089-0.623-0.046-0.758c-0.273-0.276-0.548-0.549-0.823-0.825c-0.695-0.696-1.39-1.391-2.085-2.086c-0.149-0.148-0.227-0.465-0.312-0.652c-0.231-0.506-0.466-1.009-0.697-1.515c-0.161-0.346-0.541-1.739-0.968-1.739c-1.064,0-2.131,0-3.194,0c-0.114,0-0.758-0.085-0.837,0.006c-0.208,0.235-0.414,0.469-0.62,0.702c-0.708,0.804-1.417,1.607-2.126,2.409c-0.227,0.258,0.541,0.77,0.742,0.968c0.817,0.819,1.634,1.636,2.456,2.456c0.77,0.769,1.539,1.541,2.309,2.311c0.384,0.384,0.661,0.416,0.354,0.869c-1.033,1.524-2.071,3.049-3.104,4.571c-0.67,0.667-1.341,1.337-2.009,2.005c-0.096,0.097-0.2,0.182-0.302,0.266c-1.898-1.393-3.797-2.783-5.694-4.178c0.648-0.647,1.294-1.295,1.944-1.941c0.108-0.111,0.717-0.564,0.722-0.725c0.004-0.114-0.326-0.434-0.393-0.523c-0.688-0.919-1.378-1.839-2.067-2.756c-0.264-0.353-0.969-0.971-0.969-1.438c0-1.051,0-2.101,0-3.152c0-0.46-0.213-1.433,0.126-1.792c1.228-1.289,2.456-2.579,3.684-3.868c-1.412-0.43-2.823-0.858-4.238-1.289c-0.51-0.156-1.125-0.096-1.652-0.124c-0.703-0.038-1.409-0.074-2.111-0.111c0.412-1.116,0.824-2.23,1.237-3.348c0.255-0.688,0.508-1.38,0.764-2.066c0.066-0.185,0.287-0.491,0.131-0.645c-1.419-1.422-2.841-2.843-4.26-4.265c-0.32-0.314-0.322-0.345-0.751-0.345c-0.769,0-1.539,0-2.306,0c-3.799,0-7.597,0-11.395,0c-0.755,1.228-1.512,2.455-2.27,3.681c-0.088,0.144-0.415,0.892-0.601,0.892c-0.426,0-0.849,0-1.275,0c-1.782,0-3.564,0-5.347,0c-0.712,0-1.421,0-2.129,0c-0.225,0-0.499-0.074-0.663,0.089c-0.731,0.731-1.464,1.463-2.194,2.193c-0.478,0.481-0.522,1.444-0.688,2.078c-0.13,0.493-0.714,1.567-0.227,1.89c0.913,0.607,1.822,1.214,2.733,1.823c0.332,0.22,0.661,0.442,0.991,0.661c0.11,0.072-0.221,0.561-0.27,0.662c-0.32,0.644-0.527,1.473-1.158,1.853c-0.962,0.577-1.922,1.154-2.884,1.729c-0.058,0.036-0.611,0.32-0.588,0.378c0.118,0.278,0.236,0.555,0.354,0.833c0.456,1.082,0.915,2.164,1.373,3.245c0.323,0.764,0.395,0.789,0.044,1.526c-0.45,0.949-0.899,1.899-1.35,2.847c-0.088,0.188,0.066,0.389,0.142,0.572c0.201,0.501,0.401,1.002,0.604,1.506c0.223,0.559,0.395,1.526,0.85,1.943 M378.227,226.917c0.031,0.606,0.065,1.216,0.1,1.825c0.067,1.202,0.134,2.403,0.2,3.603c0.014,0.229,0.231,1.363,0,1.47c-1.849,0.852-3.697,1.706-5.546,2.558c-0.599,0.276-1.199,0.556-1.8,0.832c-0.155,0.072-0.339,0.769-0.403,0.917c-0.23,0.525-0.461,1.049-0.69,1.576c-0.312,0.709-0.743,0.888-1.403,1.329c-0.757,0.504-1.514,1.009-2.271,1.515c0.952,1.204,1.904,2.408,2.856,3.614c0.077,0.104-2.961,2.179-3.078,2.6c-0.247,0.889-0.493,1.776-0.739,2.666c-0.191,0.681-0.2,0.627,0.292,1.12c1.176,1.177,2.353,2.353,3.528,3.529c-0.175,0.106-0.35,0.213-0.525,0.317c-0.981,0.597-1.964,1.194-2.944,1.796c-0.299,0.179-0.596,0.361-0.896,0.543c-0.06,0.035,0.142,0.54,0.16,0.607c0.305,1.017,0.61,2.034,0.914,3.05c0.16,0.537,1.211,1.005,1.642,1.315c0.214,0.155,1.904,1.206,1.795,1.406c-0.256,0.477-0.511,0.949-0.768,1.423c-0.136,0.251-2.067,1.388-2.641,1.54c-0.117,0.032-0.703,0.103-0.751,0.223c-0.367,0.897-0.733,1.796-1.103,2.693c-0.181,0.444-0.362,0.888-0.544,1.331c-0.088,0.22-0.173,0.113-0.399,0.056c-1.033-0.273-2.066-0.545-3.1-0.816c-0.427-0.113-0.995,1.244-1.204,1.572c-0.316,0.499-0.633,1.001-0.951,1.503c-0.077,0.123-0.196,0.441-0.333,0.509c-0.847,0.423-1.693,0.845-2.538,1.269c-0.403,0.201-1.314,0.912-1.776,0.771c-1.004-0.304-2.011-0.611-3.016-0.915c-0.39-0.119-0.778-0.238-1.169-0.356c-0.148-0.047-0.412,0.195-0.533,0.267c-0.9,0.528-1.799,1.06-2.697,1.588c-0.226,0.135-1.433-0.898-1.64-1.04c-0.933-0.633-1.862-1.268-2.794-1.897c-0.53-0.362-0.664-0.148-1.274,0.112c-1.076,0.46-2.15,0.922-3.227,1.384c-0.491,0.211-1.126,0.3-1.345,0.808c-0.438,1.021-0.876,2.044-1.315,3.064c-0.033,0.08-0.209,0.652-0.304,0.652c-0.343,0-0.685,0-1.026,0c-1.099,0-2.199,0-3.298,0c-0.535,0-0.999,1.078-1.286,1.471c-0.354,0.489-0.706,0.979-1.061,1.468c-0.086,0.119-0.242,0.461-0.395,0.5c-0.873,0.251-1.746,0.5-2.619,0.748c-0.115,0.033-0.301,0.562-0.355,0.663c-0.254,0.487-0.509,0.975-0.763,1.464c-0.393,0.753-0.785,1.508-1.177,2.259c-1.457-1.075-2.911-2.148-4.366-3.226c-0.122-0.089-3.439,3.566-3.775,3.916c-0.029,0.03-0.419,0.468-0.44,0.45c-0.259-0.186-0.519-0.375-0.777-0.561c-0.854-0.615-1.706-1.231-2.561-1.848c-0.294-0.213-1.758,0.771-2.072,0.928c-0.528,0.267-1.314,0.442-1.571,1.001c-0.783,1.686-1.566,3.373-2.35,5.058c1.784,0.229,3.569,0.458,5.354,0.686c0.854,0.109,1.705,0.218,2.558,0.327c0.364,0.048,0.727,0.457,1.01,0.663c1.697,1.252,3.393,2.5,5.091,3.749c0.354,0.262,0.713,0.225,1.156,0.269c1.122,0.111,2.243,0.222,3.365,0.33c0.209,0.021,1.848,0.334,1.95,0.157c0.47-0.806,0.939-1.607,1.41-2.41c0.105-0.178,1.741,0.135,1.95,0.154c1.159,0.113,2.316,0.229,3.476,0.342c0.428,0.042,0.72,0.019,1.062,0.258c0.681,0.478,1.361,0.953,2.041,1.428c1.912,1.339,3.823,2.677,5.733,4.013c0.203,0.143,1.042,0.543,1.12,0.789c0.286,0.921,0.572,1.842,0.858,2.765c0.165,0.53,0.168,0.545,0.633,0.802c0.729,0.402,1.457,0.804,2.185,1.205c2.119,1.173,4.239,2.343,6.361,3.514c0.784,0.432,1.565,0.865,2.349,1.296c0.196,0.11,0.484,0.36,0.723,0.356c4.003-0.052,8.004-0.105,12.009-0.159c0.927-0.014,1.85-0.097,2.762,0.074c2.138,0.401,4.273,0.801,6.412,1.203c1.016,0.191,2.032,0.383,3.049,0.573c0.238,0.046,0.854,0.299,1.033,0.09c1.297-1.502,2.597-3.002,3.893-4.508c0.307-0.354,0.404-0.869,0.564-1.3c0.409-1.113,0.819-2.229,1.229-3.342c0.075-0.208,0.757-1.571,0.624-1.758c-0.004-0.003,4.014-0.199,5.995-0.306c0.236-0.015,1.527-0.257,1.696-0.076c0.652,0.695,1.3,1.389,1.95,2.085c0.367,0.395,0.737,0.784,1.103,1.179c0.086,0.092,0.177,0.251,0.308,0.271c0.792,0.127,1.586,0.254,2.381,0.381c1.191,0.188,2.384,0.379,3.574,0.567c0.148,0.022,1.622,0.15,1.648,0.285c0.341,1.719,0.684,3.44,1.023,5.159c1.007-0.318,2.016-0.639,3.021-0.957c0.656-0.208,0.812-0.38,1.366-0.041c0.888,0.539,1.776,1.082,2.664,1.622c0.974,0.591,1.949,1.187,2.923,1.779c0.377,0.231,0.646,0.538,1.077,0.423c1.932-0.508,3.859-1.018,5.794-1.528c0.436-0.113,1.194,0.629,1.542,0.854c0.882,0.567,1.762,1.13,2.643,1.697c0.28,0.179,0.262,0.779,0.32,1.081c0.208,1.046,0.415,2.094,0.624,3.14c0.396,2.002,0.793,4.004,1.19,6.005c0.096,0.483,1.234,0.068,1.626,0.019c0.313-0.042,1.671,0,1.766-0.338c0.445-1.574,0.889-3.15,1.336-4.724c0.654-2.323,1.312-4.646,1.966-6.969c0.219-0.774,0.438-1.546,0.655-2.321c0.066-0.233,0.095-0.491,0.249-0.682c2.243-2.786,4.49-5.571,6.736-8.356c0.405-1.44,0.81-2.879,1.215-4.317c0.104-0.379,0.169-1.205,0.426-1.513c0.124-0.149,0.6-0.245,0.778-0.319c0.439-0.179,0.877-0.358,1.316-0.535c0.454-0.186,0.647-0.401,0.998-0.757c0.665-0.672,1.333-1.346,2-2.019c0.165-0.167,0.881-1.13,1.125-1.13c0.708,0,1.418,0,2.124,0c0.557,0,1.423-0.177,1.947,0.049c0.765,0.331,1.53,0.661,2.293,0.994c1.748,0.756,3.493,1.511,5.242,2.269c0.496,0.216,0.968,0.576,1.435,0.855c1.029,0.616,2.063,1.232,3.096,1.851c0.686,0.41,1.373,0.82,2.059,1.23c0.183,0.11,1.066-0.642,1.23-0.749c1.755-1.166,3.509-2.334,5.267-3.502c0.321-0.213,0.863,0.376,1.145,0.563c0.988,0.66,1.976,1.317,2.965,1.979c0.412,0.273,0.826,0.549,1.238,0.823c0.058,0.039,0.335,0.285,0.409,0.27c0.854-0.207,1.709-0.418,2.562-0.625c0.722-0.176,1.766-0.236,2.423-0.594c0.557-0.301,1.078-0.996,1.537-1.423c0.885-0.817,1.769-1.636,2.652-2.455c0.189-0.176,1.059-0.744,0.875-0.996c-1.203-1.69-2.409-3.381-3.614-5.069c-0.213-0.298-0.522-1.011-0.903-1.103c-1.01-0.242-2.021-0.486-3.033-0.729c-0.465-0.111-0.931-0.224-1.396-0.334c-0.247-0.061-0.199-0.079-0.214-0.346c-0.036-0.578-0.073-1.155-0.109-1.733c-0.016-0.237,0.06-0.807-0.062-1.018c-0.1-0.165-0.552-0.332-0.711-0.429c-0.472-0.287-0.945-0.575-1.416-0.863c-0.749-0.458-1.502-0.914-2.251-1.372c-0.078-0.048-0.573,0.215-0.651,0.245c-0.492,0.19-0.988,0.38-1.48,0.57c-0.914,0.352-1.829,0.703-2.744,1.055c-0.271,0.105-1.21-0.992-1.408-1.173c-0.838-0.761-1.677-1.523-2.515-2.285c-0.509-0.462-0.914-0.292-1.619-0.26c-0.91,0.045-1.822,0.086-2.734,0.13c0.043-0.975,0.083-1.95,0.127-2.925c0.02-0.452,0.04-0.903,0.059-1.353c0.008-0.182-0.183-0.126-0.343-0.146c-1.98-0.239-3.957-0.479-5.936-0.719c-0.184-0.021-0.446-0.248-0.607-0.337c-0.459-0.259-0.921-0.52-1.383-0.776c-0.888-0.495-1.775-0.994-2.663-1.491c-0.314-0.175,0.091-1.633,0.133-1.956c0.079-0.603,0.158-1.204,0.236-1.805c0.012-0.095,0.15-0.617,0.08-0.692c-0.65-0.707-1.306-1.413-1.957-2.123c-0.125-0.137-0.232-0.38-0.422-0.307c-0.301,0.119-0.606,0.237-0.908,0.36c-1.102,0.433-2.204,0.867-3.305,1.301c-0.641,0.251-1.307,0.608-1.975,0.778';
                        
                        return this.mapScoreToMapZones(item); 
                    } 
                    )
                    }
                    
               {/*      {this.state.scores.map( (score) => this.mapScoreToMapZones(score)) }*/}
               dddd
                </svg>

                <div className="info-box" ref={(div) => this.info = div}></div>
                
            </div>
        )
    }
}

export default Map;